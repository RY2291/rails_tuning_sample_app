N + 1対策メソッド

joins
  関連モデルにある属性で絞り込みたい場合は、joinsを使う事でN + 1問題を解決出来る
  文字列で生のSQLを指定可
    モデル名.joins(:関連名)

left_outer_joins
  関連テーブルにレコードが存在しない場合にも結合元のレコードは全て取得する
  文字列で生のSQLは指定不可
    モデル名.left_outer_joins(:関連名)

eager_load
  関連モデルにある属性をループの中で取得したい場合に使用する。
  SQLのLEFT OUTER JOIN句で取得した関連モデルのデータをメモリに一時保存する事で、
  その後に関連付けでデータ取得する際にメモリからデータ取得を行う為、SQL発行がされなくなりN+1が解消される。
    モデル名.eager_load(:関連名)

preload
  SELECT句をモデル毎に発行し関連付けをキャッシュする。
  関連テーブルでの絞り込み条件を指定する事は不可能
    モデル名.preload(:関連名)